@import url('https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap');

@font-face {
    font-family: 'ic';
    src: url("fonts/ic.woff2") format('woff2');
}

.Hazuki-note {
    --font-size-oald: 15px;
    --line-height-oald: 1.4;
    --color-oald-red: #de002d;
    --color-oald-green: #007a6c;
    --color-oald-blue: #0072cf;
    --color-oald-orange: #db8c39;
}

.Hazuki-note {
    font-family: Bookerly, Optima, 'Source Han Serif CN', 'Source Sans Pro', sans-serif;
    font-size: var(--font-size-oald);
    line-height: var(--line-height-oald);
    word-spacing: .1rem;
}

.Hazuki-note * {
    padding: 0;
    margin: 0;
}

.Hazuki-note .single-note {
    width: 95%;
    margin: .5em auto;
    padding: 1em;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    color: var(--text-color);
}

@media (max-width: 768px) {
    .Hazuki-note .single-note {
        width: unset;
        padding: .5em;
        box-shadow: unset;
    }
}

.Hazuki-note .note-block .label {
    display: inline-block;
    font-family: 'Mulish';
    font-size: .9em;
    font-weight: normal;
    color: var(--note-text);
    text-transform: capitalize;
    padding: 7.5px .8em 7.5px .5em;
    background: var(--note-bg);
    border-left: .25em solid var(--note-border);
    margin-right: .5em;
}

.Hazuki-note .note-block .label .ic::before {
    color: var(--note-text);
}

.Hazuki-note .note-block:not(:last-child) {
    margin-bottom: 1em;
}

.Hazuki-note .red { color: var(--color-red) }
.Hazuki-note .pink { color: var(--color-pink) }
.Hazuki-note .orange { color: var(--color-orange) }
.Hazuki-note .yellow { color: var(--color-yellow) }
.Hazuki-note .green { color: var(--color-green) }
.Hazuki-note .aqua { color: var(--color-aqua) }
.Hazuki-note .blue { color: var(--color-blue) }
.Hazuki-note .purple { color: var(--color-purple) }
.Hazuki-note .grey { color: var(--color-grey) }

/* source */
.Hazuki-note .note-block[label="source"] p {
    display: inline;
    font-family: 'Mulish';
    font-size: .9em;
    line-height: 2rem;
}

.Hazuki-note .note-block[label="source"] p span.current {
    display: inline-block;
    color: var(--color-red);
    background-color: var(--color-red-a1);
    border-radius: .625rem;
    padding: .25rem .625rem;
    transition: background-color .2s ease-in-out 0s;
    line-height: 1;
}

.Hazuki-note .note-block[label="source"] p span.current:hover {
    background-color: var(--color-red-a3);
}

.Hazuki-note .note-block[label="source"] p .ic {
    margin: 0 .125rem;
    color: var(--grey-5);
}

/* original text */
.Hazuki-note .note-block[label="original text"] .md {
    font-family: Optima;
    padding: 1em;
    margin-top: 1em;
    min-height: 1.5em;
    border-left: 4px solid #d91b3e;
    border-radius: 10px;
    position: relative;
}

.Hazuki-note .note-block[label="original text"] .md::before {
    position: absolute;
    content: "";
    border: 15px solid transparent;
    border-right: 8px solid #d91b3e;
    top: 16px;
    left: -23px;
}

/* notes */
.Hazuki-note .note-block[label="notes"] .md {
    display: inline;
}

.ox3ksym_a1, .ox5ksym_a1, .ox3ksym_a2, .ox5ksym_a2,
.ox3ksym_b1, .ox5ksym_b1, .ox3ksym_b2, .ox5ksym_b2,
.ox3ksym_c1, .ox5ksym_c1, .ox3ksym_c2, .ox5ksym_c2 {
    display: inline-block;
    min-width: 2.5em;
    white-space: pre;
    background-repeat: no-repeat;
    background-position: center center;
    background-size: 2.3em;
}

.ox3ksym_a1 { background-image: url(images/ox3000_a1.svg); }
.ox5ksym_a1 { background-image: url(images/ox5000_a1.svg); }
.ox3ksym_a2 { background-image: url(images/ox3000_a2.svg); }
.ox5ksym_a2 { background-image: url(images/ox5000_a2.svg); }

.ox3ksym_b1 { background-image: url(images/ox3000_b1.svg); }
.ox5ksym_b1 { background-image: url(images/ox5000_b1.svg); }
.ox3ksym_b2 { background-image: url(images/ox3000_b2.svg); }
.ox5ksym_b2 { background-image: url(images/ox5000_b2.svg); }

.ox3ksym_c1 { background-image: url(images/ox3000_c1.svg); }
.ox5ksym_c1 { background-image: url(images/ox5000_c1.svg); }
.ox3ksym_c2 { background-image: url(images/ox3000_c2.svg); }
.ox5ksym_c2 { background-image: url(images/ox5000_c2.svg); }

/* 第一层 */
/* 词头样式 */
.Hazuki-note .headword {
    font-family: Bookerly;
    font-size: 1.1em;
    color: var(--color-oald-blue);
}

.Hazuki-note .headword .st {
    color: var(--color-oald-red);
}

/* 词性样式 */
.Hazuki-note .pos {
    font-family: Bookerly;
    font-style: italic;
    font-size: .9em;
    color: var(--color-oald-orange);
    margin-left: 2px;
}

/* 第二层 */
.Hazuki-note :is(.shcut, .idm, .pv) {
    display: inline-block;
    margin-left: .8rem;
    position: relative;
}

.Hazuki-note :is(.shcut, .idm, .pv)::before {
    display: inline-block;
    content: "▪";
    font-family: Bookerly;
    font-size: var(--font-size-oald);
    font-weight: normal;
    color: var(--grey-4);
    position: absolute;
    left: -.8rem;
    width: 1rem;
}

/* 释义 shortcut */
.Hazuki-note .shcut {
    font-family: Optima;
    font-weight: bold;
    color: var(--color-oald-blue);
    background: linear-gradient(rgba(0, 114, 207, 0) 55%, rgba(0, 114, 207, .15) 55%, rgba(0, 114, 207, .15) 100%);
}

.Hazuki-note .shcut .chn {
    font-family: 'Source Han Serif CN';
    font-weight: normal;
    margin-left: 4px;
}

/* idiom 词条 */
.Hazuki-note .idm {
    color: #004d99;
}

.Hazuki-note .idmsep {
    color: var(--color-oald-red);
}

/* phrasal verb 词条 */
.Hazuki-note .pv {
    color: var(--color-oald-blue);
    background: linear-gradient(rgba(0, 114, 207, 0) 55%, rgba(0, 114, 207, .15) 55%, rgba(0, 114, 207, .15) 100%);
}

.Hazuki-note .pvarr::before {
    content: "⇿";
    color: var(--color-oald-red);
    text-align: center;
}

/* 第三层 */
/* 释义排版 */
.Hazuki-note .note-cards {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 1em;
}

.Hazuki-note .note-cards .note-card {
    margin-top: unset;
}

.Hazuki-note .note-card {
    display: block;
    font-size: .9em;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    margin-top: 1em;
    position: relative;
}

.Hazuki-note .note-card::before {
    content: attr(data-label);
    display: inline-block;
    padding: 4px 10px;
    font-size: 12px;
    border-radius: 12px;
    color: #fff;
    background-color: #8e7cc3;
    text-transform: capitalize;
    margin-bottom: 10px;
}

.Hazuki-note .note-card::after {
    content: attr(data-comment);
    font-size: 12px;
    color: var(--text-grey-color);
    position: absolute;
    top: 15px;
    right: 15px;
}

.Hazuki-note .sense {
    display: block;
}

/* 释义样式 */
.Hazuki-note :is(.variants, .grammar, .subj),
.Hazuki-note :is(.variantGroup, .transivityStatement, .languageGroup, .register, .wordFormGroup) {
    font-size: .9em;
    line-height: calc(1em / 0.9 * var(--line-height-oald));
}

.Hazuki-note .bookerly {
    font-family: Bookerly;
}

.Hazuki-note .bold {
    font-weight: bold;
}

.Hazuki-note .block {
    display: block;
}

.Hazuki-note .unset-margin {
    margin: unset !important;
}

/* 语法 */
.Hazuki-note :is(.grammar, .transivityStatement) {
    color: seagreen;
}

.Hazuki-note :is(.grammar, .transivityStatement)::before {
    content: "[";
}

.Hazuki-note :is(.grammar, .transivityStatement)::after {
    content: "]";
}

/* 变体 */
.Hazuki-note .variants[type="alt"]::before {
    content: "[";
}

.Hazuki-note .variants[type="alt"]::after {
    content: "]";
}

.Hazuki-note .wordFormGroup::before {
    content: "(";
}

.Hazuki-note .wordFormGroup::after {
    content: ")";
}

.Hazuki-note :is(.variants .v-g, .variantGroup .variant, .wordFormGroup .wordForm) {
    color: var(--color-oald-blue);
}

/* 主题 */
.Hazuki-note .subj {
    color: var(--color-oald-green);
}

.Hazuki-note .subj::before {
    content: "⟨";
}

.Hazuki-note .subj::after {
    content: "⟩";
}

.Hazuki-note .languageGroup {
    font-style: italic;
    color: #27a058;
}

/* 语体风格 */
.Hazuki-note .register {
    font-style: italic;
    color: #e3533a;
}

/* ACTIV */
.Hazuki-note .activ {
    font-family: Optima;
    font-weight: bold;
    font-size: .8em;
    color: hotpink;
    text-transform: uppercase;
}

.Hazuki-note .activ::before {
    content: "/";
}

/* 固定搭配 */
.Hazuki-note .cf {
    display: inline-block;
    color: var(--color-oald-blue);
}

.Hazuki-note :is(.activ, .cf)::after {
    display: inline-block;
    font-family: Bookerly;
    font-size: var(--font-size-oald);
    font-weight: normal;
    content: "•";
    color: var(--grey-4);
    margin-left: .3em;
}

/* 释义英文 */
.Hazuki-note .def {
    margin-right: unset;
}

/* 释义中文 */
.Hazuki-note .chn {
    display: inline-block;
    color: var(--color-oald-green);
    background: rgba(0, 122, 108, .2);
    border-radius: 3px;
    padding: 0 2px;
}

.Hazuki-note .chn {
    font-size: .9em;
}

.Hazuki-note :is(.shcut, .subj) .chn {
    color: inherit;
    background: unset;
    padding: unset;
}

/* emphasized italic */
.Hazuki-note .ei {
    font-style: italic;
    color: var(--color-oald-blue);
}

/* emphasized bold */
.Hazuki-note .eb {
    font-weight: normal;
    color: var(--color-oald-blue);
}

/* non-defining vocabulary */
.Hazuki-note .ndv {
    font-style: italic;
    color: var(--color-oald-green);
}

.Hazuki-note .newline {
    display: block;
    margin-bottom: .8rem;
}

.Hazuki-note .sep::before {
    display: inline-block;
    content: "•";
    color: var(--grey-4);
}

/* 第四层 */
.Hazuki-note .xrefs {
    font-size: .85em;
    line-height: calc(1em / 0.85 * var(--line-height-oald));
}

.Hazuki-note .prefix {
    display: inline-block;
    font-family: Optima;
    font-weight: 600;
    font-size: 15px;
    font-variant: small-caps;
    color: white;
    height: 16px;
    line-height: 15px;
    border-radius: 4px 0 0 4px;
    background-color: var(--color-oald-blue);
    padding: 0 2px 0 5px;
    margin-right: 5px;
    position: relative;
}

.Hazuki-note .prefix::after {
    position: absolute;
    content: "";
    left: 100%;
    border-style: solid;
    border-width: 8px 0 8px 6px;
    border-color: transparent transparent transparent var(--color-oald-blue);
}

/* 词条链接 */
.Hazuki-note .Ref {
    color: var(--color-oald-blue);
}

.Hazuki-note .Ref:not(:last-of-type)::after {
    display: inline-block;
    content: "•";
    color: var(--grey-4);
    margin-left: .3em;
}

/* tags */
.Hazuki-note .tags {
    line-height: 2;
    font-size: .75rem;
    margin-top: 1.5rem;
}

.Hazuki-note .tags .note-tag {
    font-family: 'Mulish';
    display: inline-block;
    color: var(--note-text);
    background: var(--note-bg);
    padding: 0 .5rem 0 .3125rem;
    border-radius: .3125rem;
    cursor: default;
}

.Hazuki-note .tags .note-tag:not(:last-child) {
    margin-right: .625rem;
}

/* 图标 */
.Hazuki-note .ic {
    font-family: "ic";
    font-style: normal;
    text-align: center;
    display: inline-block;
    width: 1.25em;
    margin: 0 .2em;
    line-height: 1;
}

.i-home:before {
    content: "\e8ed";
}

.i-angle-right:before {
    content: "\ef1f";
}

.i-feather:before {
    content: "\efbd";
}

.i-sakura:before {
    content: "\e695";
}

.i-tag:before {
    text-align: left;
    content: "\e759";
}

/* Markdown */
.Hazuki-note .md :is(h1, h2, h3, h4, h5, h6) {
    font-family: 'Mulish', 'PingFang SC';
    font-style: normal;
    font-weight: bold;
    color: var(--primary-color);
}

.Hazuki-note .md h1 {
    font-size: 1.5em
}

.Hazuki-note .md h2 {
    font-size: 1.375em
}

.Hazuki-note .md h3 {
    font-size: 1.25em
}

.Hazuki-note .md h4 {
    font-size: 1.125em
}

.Hazuki-note .md h5 {
    font-size: 1em
}

.Hazuki-note .md h6 {
    font-size: .875em
}

.Hazuki-note .md ul {
    list-style-type: disc;
}

.Hazuki-note .md ul li {
    font-size: inherit;
    color: var(--text-color);
}

.Hazuki-note .md :is(h1, h2, h3, h4, h5, h6, p, blockquote) {
    margin: unset;
    margin-bottom: .8rem;
}

.Hazuki-note .md > :last-child,
.Hazuki-note .md blockquote > :last-child {
    margin-bottom: unset;
}

.Hazuki-note .md blockquote {
    font-size: .9em;
    border-left: 2px solid rgba(0, 136, 221, .35);
    padding: .5rem;
}

.Hazuki-note .md blockquote.card-style {
    border-left: unset;
    border-radius: 12px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    padding: 20px;
}

.Hazuki-note .md .highlighted {
    color: #3794FF;
    background-color: #e3efff;
}

.Hazuki-note .md ol,
.Hazuki-note .md ul {
    margin: .5em 0 .5em;
    padding: .1em .2em .1em 2em;
}

.Hazuki-note .md ol ul {
    margin-top: unset;
}

.Hazuki-note .md li {
    position: relative;
    margin: .2rem 0;
}

.Hazuki-note .md ol > li.quiz::marker {
    color: var(--primary-color);
    font-size: .9em;
}

.Hazuki-note .md ol > li.quiz ul.options {
    padding-inline-start: unset;
    margin-bottom: unset;
}

.Hazuki-note .md ol > li.quiz ul.options li::before {
    color: var(--color-grey);
    margin-right: .625rem;
}

.Hazuki-note .md ol > li.quiz > ul.options li {
    list-style-type: none;
    cursor: pointer;
}

.Hazuki-note .md ol > li.quiz > ul.options li::after {
    font-family: ic;
    font-weight: normal;
    position: absolute;
    left: -1.5625rem;
}

.Hazuki-note .md ol > li.quiz > ul.options li.wrong::before {
    color: var(--color-red);
}

.Hazuki-note .md ol > li.quiz > ul.options li.wrong::after {
    content: "\f109";
    color: var(--color-red);
    animation: fadeIn .5s;
}

.Hazuki-note .md ol > li.quiz > ul.options li.right::before {
    color: var(--color-green);
}

.Hazuki-note .md ol > li.quiz > ul.options li.right::after {
    content: "\ef65";
    color: var(--color-green);
    animation: fadeIn .5s;
}

.Hazuki-note .md ol > li.quiz ul.options li:first-child::before {
    content: "A."
}

.Hazuki-note .md ol > li.quiz ul.options li:nth-child(2)::before {
    content: "B."
}

.Hazuki-note .md ol > li.quiz ul.options li:nth-child(3)::before {
    content: "C."
}

.Hazuki-note .md ol > li.quiz ul.options li:nth-child(4)::before {
    content: "D."
}

.Hazuki-note .md ol > li.quiz ul.options li:nth-child(5)::before {
    content: "E."
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* Swiper */
.swiper-wrapper, .swiper-slide {
    height: auto;
}

.swiper-button-prev, .swiper-button-next {
    opacity: .5;
}

.swiper-button-disabled {
    pointer-events: auto !important;
}

.swiper-button-prev::after, .swiper-button-next::after, .vertical-view-button::after {
    display: none;
    font-size: 1rem;
    color: var(--grey-4);
    width: 36px;
    height: 36px;
    flex-shrink: 0;
    background: white;
    border-radius: 50%;
    border: 1px solid #e3e5e7;
    box-shadow: 0 0 2px rgba(0, 0, 0, .02), 0 4px 10px rgba(0, 0, 0, .06);
}

.swiper-button-prev:hover::after, .swiper-button-next:hover::after, .vertical-view-button::after {
    display: flex;
    align-items: center;
    justify-content: center;
}

.Hazuki-note:not(.single-note-mode) {
    position: relative;
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

@media (max-width: 768px) {
    .Hazuki-note:not(.single-note-mode) {
        box-shadow: unset;
    }
}

.Hazuki-note:not(.single-note-mode) .single-note {
    border-radius: unset;
    box-shadow: unset;
}

.vertical-view-button {
    position: absolute;
    right: 1em;
    bottom: 1em;
    z-index: 1;
    cursor: pointer;
}

.vertical-view-button::after {
    font-family: swiper-icons;
    content: 'next';
    transform: rotate(90deg);
    zoom: .8;
}

.vertical-view .vertical-view-button::after {
    content: 'prev';
}

.vertical-view .swiper-wrapper {
    display: block;
}

.vertical-view .swiper-slide:not(:last-child) .single-note {
    border-bottom: 1px dashed rgb(170, 170, 255);
}

.vertical-view .swiper-slide::after {
    content: attr(aria-label);
    font-size: calc(var(--font-size-oald) * 0.8);
    color: rgb(170, 170, 255);
    position: absolute;
    bottom: 1.5em;
    left: 50%;
    transform: translateX(-50%);
    border: 1px solid rgb(170, 170, 255);
    padding: .2em 1em;
    border-radius: 1em;
}

.single-note-mode .vertical-view-button {
    display: none;
}

/* Light mode */
.Hazuki-note {
    --grey-0: #fff;
    --grey-1: #fdfdfd;
    --grey-2: #f7f7f7;
    --grey-3: #eff2f3;
    --grey-4: #ccc;
    --grey-5: #999;
    --grey-6: #666;
    --grey-7: #333;
    --grey-8: #222;
    --grey-9: #000;
    --color-red: #e9546b;
    --color-pink: #ed6ea0;
    --color-orange: #ec8c69;
    --color-yellow: #eab700;
    --color-green: #67a78a; /* Modified */
    --color-aqua: #3e999f;
    --color-blue: #35a3ff; /* Modified */
    --color-purple: #9d5b8b;
    --color-grey: #869194;
    --color-red-a1: rgba(233, 84, 107, 0.1);
    --color-red-a3: rgba(233, 84, 107, 0.3);
    --text-color: var(--grey-7);
    --text-grey-color: var(--grey-6);
    --primary-color: var(--color-red);
}

.primary {
    --note-border: #cda0c7;
    --note-bg: #fdf8ff;
    --note-text: #8a51c0;
    --note-hover: #935aca;
}

.info {
    --note-border: #8fa4dc;
    --note-bg: #f1f9ff;
    --note-text: #1d4974;
    --note-hover: #1d5fa0;
}

.success {
    --note-border: #a3c293;
    --note-bg: #fcfff5;
    --note-text: #2c662d;
    --note-hover: #3b883c;
}

.warning {
    --note-border: #c9ba9b;
    --note-bg: #fffbeb;
    --note-text: #947600;
    --note-hover: #ccb045;
}

.danger {
    --note-border: #f4b3c1;
    --note-bg: #fff2f5;
    --note-text: #cc0f35;
    --note-hover: #f14668;
}

/* Dark mode */
@media (prefers-color-scheme: dark) {
    .Hazuki-note {
        --grey-0: #222;
        --grey-1: #21252b;
        --grey-2: #363636;
        --grey-3: #444;
        --grey-4: #666;
        --grey-5: #aaa;
        --grey-6: #ccc;
        --grey-7: #ddd;
        --grey-8: #eee;
        --grey-9: #f7f7f7;
        --color-red: rgba(237, 118, 137, 0.9);
        --color-pink: rgba(241, 139, 179, 0.8);
        --color-orange: rgba(240, 163, 135, 0.8);
        --color-yellow: #ffe175;
        --color-green: var(--color-oald-green); /* Modified */
        --color-aqua: #97d3d6;
        --color-blue: var(--color-oald-blue); /* Modified */
        --color-purple: #cfacc5;
        --color-grey: #c3c8ca;
        --text-color: var(--grey-6); /* Modified */
        --text-grey-color: var(--grey-5); /* Modified */
    }

    .primary {
        --note-border: rgba(123, 96, 119, 0.8);
        --note-bg: rgba(50, 49, 50, 0.8);
        --note-text: rgba(161, 116, 205, 0.8);
        --note-hover: rgba(117, 72, 161, 0.8)
    }

    .info {
        --note-border: rgba(85, 98, 132, 0.8);
        --note-bg: rgba(48, 49, 50, 0.8);
        --note-text: rgba(109, 164, 219, 0.8);
        --note-hover: rgba(39, 127, 214, 0.8)
    }

    .success {
        --note-border: rgba(97, 116, 88, 0.8);
        --note-bg: rgba(50, 50, 48, 0.8);
        --note-text: rgba(128, 200, 129, 0.8);
        --note-hover: rgba(41, 95, 42, 0.8)
    }

    .warning {
        --note-border: rgba(120, 111, 93, 0.8);
        --note-bg: rgba(50, 50, 46, 0.8);
        --note-text: rgba(220, 176, 0, 0.8);
        --note-hover: rgba(163, 140, 55, 0.8)
    }

    .danger {
        --note-border: rgba(146, 107, 115, 0.8);
        --note-bg: rgba(50, 48, 48, 0.8);
        --note-text: rgba(239, 38, 79, 0.8);
        --note-hover: rgba(168, 49, 72, 0.8)
    }

    .Hazuki-note {
        --color-oald-red: #e9546b;
        --color-oald-green: rgba(0, 122, 108, 1);
        --color-oald-blue: #1681c2;
        --color-oald-orange: rgba(219, 140, 57, 0.8);
    }

    .Hazuki-note ::selection {
        background-color: #1e2631;
    }

    .md .highlighted {
        background-color: var(--grey-2);
    }
}